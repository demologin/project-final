<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<!-- TODO: Task 4. Made xml changelog for tests db. -->
<!--suppress ALL -->
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:pro="http://www.liquibase.org/xml/ns/pro" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-latest.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-latest.xsd">
    <changeSet id="drop_user_role" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="user_role"/>
        </preConditions>
        <dropTable tableName="user_role"/>
    </changeSet>
    <changeSet id="drop_contact" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="contact"/>
        </preConditions>
        <dropTable tableName="contact"/>
    </changeSet>
    <changeSet id="drop_mail_case" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="mail_case"/>
        </preConditions>
        <dropTable tableName="mail_case"/>
    </changeSet>
    <changeSet id="drop_profile" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="profile"/>
        </preConditions>
        <dropTable tableName="profile"/>
    </changeSet>
    <changeSet id="drop_task_tag" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="task_tag"/>
        </preConditions>
        <dropTable tableName="task_tag"/>
    </changeSet>
    <changeSet id="drop_user_belong" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="user_belong"/>
        </preConditions>
        <dropTable tableName="user_belong"/>
    </changeSet>
    <changeSet id="drop_activity" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="activity"/>
        </preConditions>
        <dropTable tableName="activity"/>
    </changeSet>
    <changeSet id="drop_task" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="task"/>
        </preConditions>
        <dropTable tableName="task"/>
    </changeSet>
    <changeSet id="drop_sprint" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="sprint"/>
        </preConditions>
        <dropTable tableName="sprint"/>
    </changeSet>
    <changeSet id="drop_project" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="project"/>
        </preConditions>
        <dropTable tableName="project"/>
    </changeSet>
    <changeSet id="drop_reference" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="reference"/>
        </preConditions>
        <dropTable tableName="reference"/>
    </changeSet>
    <changeSet id="drop_attachment" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="attachment"/>
        </preConditions>
        <dropTable tableName="attachment"/>
    </changeSet>
    <changeSet id="drop_users" author="drege">
        <preConditions onFail="MARK_RAN">
            <tableExists tableName="users"/>
        </preConditions>
        <dropTable tableName="users"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-1">
        <createTable tableName="project">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="project_pkey"/>
            </column>
            <column name="code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(1024)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(4096)">
                <constraints nullable="false"/>
            </column>
            <column name="type_code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="startpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="endpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="parent_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-2">
        <insert tableName="project">
            <column name="id" valueNumeric="2"/>
            <column name="code" value="task tracker"/>
            <column name="title" value="PROJECT-1"/>
            <column name="description" value="test project"/>
            <column name="type_code" value="task tracker"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
            <column name="parent_id"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-3">
        <createTable tableName="mail_case">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="mail_case_pkey"/>
            </column>
            <column name="email" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="date_time" type="TIMESTAMP WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="result" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="template" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-4">
        <createTable tableName="sprint">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="sprint_pkey"/>
            </column>
            <column name="status_code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="startpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="endpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="title" type="VARCHAR(1024)">
                <constraints nullable="false"/>
            </column>
            <column name="project_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-5">
        <insert tableName="sprint">
            <column name="id" valueNumeric="1"/>
            <column name="status_code" value="planning"/>
            <column name="startpoint" valueDate="2023-04-09T23:05:05"/>
            <column name="endpoint" valueDate="2023-04-12T23:05:12"/>
            <column name="title" value="Sprint-1"/>
            <column name="project_id" valueNumeric="2"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-6">
        <createTable tableName="reference">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="reference_pkey"/>
            </column>
            <column name="code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="ref_type" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
            <column name="endpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="startpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="title" type="VARCHAR(1024)">
                <constraints nullable="false"/>
            </column>
            <column name="aux" type="VARCHAR"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-7">
        <insert tableName="reference">
            <column name="code" value="ready"/>
            <column name="ref_type" valueNumeric="3"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Ready"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="task"/>
            <column name="ref_type" valueNumeric="2"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Task"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="story"/>
            <column name="ref_type" valueNumeric="2"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Story"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="bug"/>
            <column name="ref_type" valueNumeric="2"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Bug"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="epic"/>
            <column name="ref_type" valueNumeric="2"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Epic"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="icebox"/>
            <column name="ref_type" valueNumeric="3"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Icebox"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="backlog"/>
            <column name="ref_type" valueNumeric="3"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Backlog"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="in progress"/>
            <column name="ref_type" valueNumeric="3"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="In progress"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="done"/>
            <column name="ref_type" valueNumeric="3"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Done"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="planning"/>
            <column name="ref_type" valueNumeric="4"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Planning"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="implementation"/>
            <column name="ref_type" valueNumeric="4"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Implementation"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="review"/>
            <column name="ref_type" valueNumeric="4"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Review"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="retrospective"/>
            <column name="ref_type" valueNumeric="4"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Retrospective"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="admin"/>
            <column name="ref_type" valueNumeric="5"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Admin"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="user"/>
            <column name="ref_type" valueNumeric="5"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="User"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="scrum"/>
            <column name="ref_type" valueNumeric="1"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Scrum"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="task tracker"/>
            <column name="ref_type" valueNumeric="1"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Task tracker"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="skype"/>
            <column name="ref_type" valueNumeric="0"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Skype"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="tg"/>
            <column name="ref_type" valueNumeric="0"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Telegram"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="mobile"/>
            <column name="ref_type" valueNumeric="0"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Mobile"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="phone"/>
            <column name="ref_type" valueNumeric="0"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Phone"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="website"/>
            <column name="ref_type" valueNumeric="0"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Website"/>
            <column name="aux"/>
        </insert>
        <!-- TODO: Task 2. Deleted social networks. -->
        <insert tableName="reference">
            <column name="code" value="linkedin"/>
            <column name="ref_type" valueNumeric="0"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="LinkedIn"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="github"/>
            <column name="ref_type" valueNumeric="0"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="GitHub"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="critical"/>
            <column name="ref_type" valueNumeric="7"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Critical"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="high"/>
            <column name="ref_type" valueNumeric="7"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="High"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="normal"/>
            <column name="ref_type" valueNumeric="7"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Normal"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="low"/>
            <column name="ref_type" valueNumeric="7"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Low"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="neutral"/>
            <column name="ref_type" valueNumeric="7"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Neutral"/>
            <column name="aux"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="assigned"/>
            <column name="ref_type" valueNumeric="6"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Assigned"/>
            <column name="aux" value="1"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="three_days_before_deadline"/>
            <column name="ref_type" valueNumeric="6"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Three days before deadline"/>
            <column name="aux" value="2"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="two_days_before_deadline"/>
            <column name="ref_type" valueNumeric="6"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Two days before deadline"/>
            <column name="aux" value="4"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="one_day_before_deadline"/>
            <column name="ref_type" valueNumeric="6"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="One day before deadline"/>
            <column name="aux" value="8"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="deadline"/>
            <column name="ref_type" valueNumeric="6"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Deadline"/>
            <column name="aux" value="16"/>
        </insert>
        <insert tableName="reference">
            <column name="code" value="overdue"/>
            <column name="ref_type" valueNumeric="6"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
            <column name="title" value="Overdue"/>
            <column name="aux" value="32"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-8">
        <createTable tableName="users">
            <column autoIncrement="true" name="id" startWith="1" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="users_pkey"/>
            </column>
            <column name="display_name" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="first_name" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="last_name" type="VARCHAR(32)"/>
            <column name="password" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="endpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="startpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-9">
        <insert tableName="users">
            <column name="display_name" value="userDisplayName"/>
            <column name="email" value="user@gmail.com"/>
            <column name="first_name" value="userFirstName"/>
            <column name="last_name" value="userLastName"/>
            <column name="password" value="{noop}password"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
        </insert>
        <insert tableName="users">
            <column name="display_name" value="adminDisplayName"/>
            <column name="email" value="admin@gmail.com"/>
            <column name="first_name" value="adminFirstName"/>
            <column name="last_name" value="adminLastName"/>
            <column name="password" value="{noop}admin"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
        </insert>
        <insert tableName="users">
            <column name="display_name" value="guestDisplayName"/>
            <column name="email" value="guest@gmail.com"/>
            <column name="first_name" value="guestFirstName"/>
            <column name="last_name" value="guestLastName"/>
            <column name="password" value="{noop}guest"/>
            <column name="endpoint"/>
            <column name="startpoint"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-10">
        <createTable tableName="task">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="task_pkey"/>
            </column>
            <column name="title" type="VARCHAR(1024)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(4096)">
                <constraints nullable="false"/>
            </column>
            <column name="type_code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="status_code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="priority_code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="estimate" type="INTEGER"/>
            <column name="updated" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="project_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="sprint_id" type="BIGINT"/>
            <column name="parent_id" type="BIGINT"/>
            <column name="startpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="endpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-11">
        <insert tableName="task">
            <column name="id" valueNumeric="2"/>
            <column name="title" value="Task-1"/>
            <column name="description" value="short test task"/>
            <column name="type_code" value="task"/>
            <column name="status_code" value="in progress"/>
            <column name="priority_code" value="high"/>
            <column name="estimate"/>
            <column name="updated"/>
            <column name="project_id" valueNumeric="2"/>
            <column name="sprint_id" valueNumeric="1"/>
            <column name="parent_id"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
        <insert tableName="task">
            <column name="id" valueNumeric="3"/>
            <column name="title" value="Task-2"/>
            <column name="description" value="test 2 task"/>
            <column name="type_code" value="bug"/>
            <column name="status_code" value="ready"/>
            <column name="priority_code" value="normal"/>
            <column name="estimate"/>
            <column name="updated"/>
            <column name="project_id" valueNumeric="2"/>
            <column name="sprint_id" valueNumeric="1"/>
            <column name="parent_id"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
        <insert tableName="task">
            <column name="id" valueNumeric="5"/>
            <column name="title" value="Task-4"/>
            <column name="description" value="test 4"/>
            <column name="type_code" value="bug"/>
            <column name="status_code" value="in progress"/>
            <column name="priority_code" value="normal"/>
            <column name="estimate"/>
            <column name="updated"/>
            <column name="project_id" valueNumeric="2"/>
            <column name="sprint_id" valueNumeric="1"/>
            <column name="parent_id"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
        <insert tableName="task">
            <column name="id" valueNumeric="4"/>
            <column name="title" value="Task-3"/>
            <column name="description" value="test 3 descr"/>
            <column name="type_code" value="task"/>
            <column name="status_code" value="done"/>
            <column name="priority_code" value="low"/>
            <column name="estimate"/>
            <column name="updated"/>
            <column name="project_id" valueNumeric="2"/>
            <column name="sprint_id" valueNumeric="1"/>
            <column name="parent_id"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-12">
        <createTable tableName="activity">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="activity_pkey"/>
            </column>
            <column name="author_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="task_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="updated" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="comment" type="VARCHAR(4096)"/>
            <column name="title" type="VARCHAR(1024)"/>
            <column name="description" type="VARCHAR(4096)"/>
            <column name="estimate" type="INTEGER"/>
            <column name="type_code" type="VARCHAR(32)"/>
            <column name="status_code" type="VARCHAR(32)"/>
            <column name="priority_code" type="VARCHAR(32)"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-13">
        <createTable tableName="user_belong">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="user_belong_pkey"/>
            </column>
            <column name="object_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="object_type" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_type_code" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="startpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="endpoint" type="TIMESTAMP WITHOUT TIME ZONE"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-14">
        <insert tableName="user_belong">
            <column name="id" valueNumeric="3"/>
            <column name="object_id" valueNumeric="2"/>
            <column name="object_type" valueNumeric="2"/>
            <column name="user_id" valueNumeric="2"/>
            <column name="user_type_code" value="admin"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
        <insert tableName="user_belong">
            <column name="id" valueNumeric="4"/>
            <column name="object_id" valueNumeric="3"/>
            <column name="object_type" valueNumeric="2"/>
            <column name="user_id" valueNumeric="2"/>
            <column name="user_type_code" value="admin"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
        <insert tableName="user_belong">
            <column name="id" valueNumeric="5"/>
            <column name="object_id" valueNumeric="4"/>
            <column name="object_type" valueNumeric="2"/>
            <column name="user_id" valueNumeric="2"/>
            <column name="user_type_code" value="admin"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
        <insert tableName="user_belong">
            <column name="id" valueNumeric="6"/>
            <column name="object_id" valueNumeric="5"/>
            <column name="object_type" valueNumeric="2"/>
            <column name="user_id" valueNumeric="2"/>
            <column name="user_type_code" value="admin"/>
            <column name="startpoint"/>
            <column name="endpoint"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-15">
        <createTable tableName="attachment">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="attachment_pkey"/>
            </column>
            <column name="name" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="file_link" type="VARCHAR(2048)">
                <constraints nullable="false"/>
            </column>
            <column name="object_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="object_type" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="date_time" type="TIMESTAMP WITHOUT TIME ZONE"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-16">
        <createTable tableName="task_tag">
            <column name="task_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="tag" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-17">
        <createTable tableName="user_role">
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="role" type="SMALLINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-18">
        <insert tableName="user_role">
            <column name="user_id" valueNumeric="1"/>
            <column name="role" valueNumeric="0"/>
        </insert>
        <insert tableName="user_role">
            <column name="user_id" valueNumeric="2"/>
            <column name="role" valueNumeric="1"/>
        </insert>
        <insert tableName="user_role">
            <column name="user_id" valueNumeric="2"/>
            <column name="role" valueNumeric="0"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-19">
        <addUniqueConstraint columnNames="code" constraintName="uk_project_code" tableName="project"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-20">
        <addUniqueConstraint columnNames="ref_type, code" constraintName="uk_reference_ref_type_code" tableName="reference"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-21">
        <addUniqueConstraint columnNames="display_name" constraintName="uk_users_display_name" tableName="users"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-22">
        <addUniqueConstraint columnNames="email" constraintName="uk_users_email" tableName="users"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-23">
        <createIndex indexName="uk_user_belong" tableName="user_belong" unique="true">
            <column name="object_id"/>
            <column name="object_type"/>
            <column name="user_id"/>
            <column name="user_type_code"/>
        </createIndex>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-24">
        <createIndex indexName="ix_user_belong_user_id" tableName="user_belong">
            <column name="user_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-25">
        <addUniqueConstraint columnNames="task_id, tag" constraintName="uk_task_tag" tableName="task_tag"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-26">
        <addUniqueConstraint columnNames="user_id, role" constraintName="uk_user_role" tableName="user_role"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-27">
        <createTable tableName="contact">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="contact_pkey"/>
            </column>
            <column name="code" type="VARCHAR(32)">
                <constraints nullable="false" primaryKey="true" primaryKeyName="contact_pkey"/>
            </column>
            <column name="value" type="VARCHAR(256)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-28">
        <createTable tableName="profile">
            <column name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="profile_pkey"/>
            </column>
            <column name="last_login" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="last_failed_login" type="TIMESTAMP WITHOUT TIME ZONE"/>
            <column name="mail_notifications" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-29">
        <insert tableName="contact">
            <column name="id" valueNumeric="1"/>
            <column name="code" value="skype"/>
            <column name="value" value="userSkype"/>
        </insert>
        <insert tableName="contact">
            <column name="id" valueNumeric="1"/>
            <column name="code" value="mobile"/>
            <column name="value" value="+01234567890"/>
        </insert>
        <insert tableName="contact">
            <column name="id" valueNumeric="1"/>
            <column name="code" value="website"/>
            <column name="value" value="user.com"/>
        </insert>
        <insert tableName="contact">
            <column name="id" valueNumeric="2"/>
            <column name="code" value="github"/>
            <column name="value" value="adminGitHub"/>
        </insert>
        <!-- TODO: Task 2. Deleted social networks. -->
        <insert tableName="contact">
            <column name="id" valueNumeric="2"/>
            <column name="code" value="tg"/>
            <column name="value" value="adminTg"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-30">
        <insert tableName="profile">
            <column name="id" valueNumeric="1"/>
            <column name="last_login"/>
            <column name="last_failed_login"/>
            <column name="mail_notifications" valueNumeric="49"/>
        </insert>
        <insert tableName="profile">
            <column name="id" valueNumeric="2"/>
            <column name="last_login"/>
            <column name="last_failed_login"/>
            <column name="mail_notifications" valueNumeric="14"/>
        </insert>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-31">
        <addForeignKeyConstraint baseColumnNames="task_id" baseTableName="activity" constraintName="fk_activity_task" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="task" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-32">
        <addForeignKeyConstraint baseColumnNames="author_id" baseTableName="activity" constraintName="fk_activity_users" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-33">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="attachment" constraintName="fk_attachment" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-34">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="contact" constraintName="fk_contact_profile" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="profile" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-35">
        <addForeignKeyConstraint baseColumnNames="id" baseTableName="profile" constraintName="fk_profile_users" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-36">
        <addForeignKeyConstraint baseColumnNames="parent_id" baseTableName="project" constraintName="fk_project_parent" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="project" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-37">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="sprint" constraintName="fk_sprint_project" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="project" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-38">
        <addForeignKeyConstraint baseColumnNames="parent_id" baseTableName="task" constraintName="fk_task_parent_task" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="task" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-39">
        <addForeignKeyConstraint baseColumnNames="project_id" baseTableName="task" constraintName="fk_task_project" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="project" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-40">
        <addForeignKeyConstraint baseColumnNames="sprint_id" baseTableName="task" constraintName="fk_task_sprint" deferrable="false" initiallyDeferred="false" onDelete="SET NULL" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="sprint" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-41">
        <addForeignKeyConstraint baseColumnNames="task_id" baseTableName="task_tag" constraintName="fk_task_tag" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="task" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-42">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_belong" constraintName="fk_user_belong" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
    <changeSet author="drege (generated)" id="1681771408795-43">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_role" constraintName="fk_user_role" deferrable="false" initiallyDeferred="false" onDelete="CASCADE" onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="users" validate="true"/>
    </changeSet>
</databaseChangeLog>